<html>
<head>
<meta charset="utf-8">
<title>Javascript</title>
<style type="text/css">
	body{
		background-color: #A0522D;
	}
	h1{
		text-align: center;
		color : #00008b;
	}
	h2{
		text-align: center;
	}
	div{
		text-align: center;
		font-size: 20px;
	}
	input.b{
		text-align: center;
		width : 10%;
		margin-left: 45%;
		margin-right: 45%;
	}
</style>
</head>
<body>

<h1>Determine if 2 Numbers are Amicable</h1>
<script language="javascript">
	function calculate(num1, num2){
		document.write("<h1>Num 1 = " + num1 + "<br />Num 2 = " + num2 + "</h1>");
		document.write("<style type='text/css'>body{background-color: #A0522D;}	h1{text-align: center;color : #00008b;}h2{text-align: center;}div{text-align: center;font-size:20px;}input.b{text-align: center;width : 10%;margin-left: 45%;margin-right: 45%;}</style>");
		var array1 = getFactors(num1);
		var array2 = getFactors(num2);


		document.write("<h1>Factors of Number 1</h1>");
		showFactors(array1);

		document.write("<h1>Factors of Number 2</h1>");
		showFactors(array2);

		sum1 = addFactors(array1);
		sum2 = addFactors(array2);

		document.write("<h1>Sum 1 = " + sum1 + "<br />Sum 2 = " + sum2 + "</h1>");

		if (sum1 == num2 && sum2 == num1){
			document.write("<h1>These Numbers are Amicable</h1>");
		}else{
			document.write("<h1>These Numbers are NOT Amicable</h1>");

		}
	}
	function isFactor(num, test){
		if (num % test == 0)
			return true;
		else
			return false;
	}
	function showFactors(arr){
		document.write("<div>")
		for (var i = 0; i < arr.length; i++) {
			document.write(arr[i] + " ");
		}
		document.write(" </div> <br />");
	}
	function addFactors(arr){
		var sum = 0;
		for (var i = 0; i < arr.length; i++) {
			sum += arr[i];
		}
		return sum;
	}
	function getFactors(num){
		var arr = new Array();
    	var half = Math.floor(Math.sqrt(num));
    	arr[0] = 1;
    	var index = 1;
		for (var i = 2; i <= half; i++) {
			if (isFactor(num, i) == true){
				arr[index] = i;
				arr[index + 1] = (num / i);
				index += 2;
			}
		}
		arr = arr.sort((a, b) => a - b);
		return arr;
	}
</script>
<h2>Enter your Numbers Here!</h2>
<form>
	<div class="col1">Number 1</div>
	<div class="col2"><input type="text" name="num1" id="num1"></div>
	<div class="col1">Number 2</div>
	<div class="col2"><input type="text" name="num2" id="num2"></div>
	<input class="b" type="submit" onclick="calculate(document.getElementById('num1').value, document.getElementById('num2').value)" name="Determine" value="Determine">
</form>
</body>
</html>
